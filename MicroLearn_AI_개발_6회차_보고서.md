# MicroLearn AI 개발 6회차 보고서

**보고 일자:** 2025년 11월 10일
**작성자:** Gemini CLI Agent

---

## 1. 개요

- 본 보고서는 'AI 기반 마이크로 러닝 콘텐츠 생성 플랫폼 (MicroLearn AI)' 프로젝트의 5회차 보고 이후 진행된 개발 상황을 요약하고 향후 계획을 공유하기 위해 작성되었음.
- 5회차 보고 시점의 블로커였던 `GEMINI_API_KEY` 부재 문제를 해결하고, '자료와 대화하기' 기능의 완전한 테스트를 위한 환경 구축을 목표로 함.
- 이 과정에서 프론트엔드와 백엔드 양단에서 다수의 컴파일 에러, 의존성 충돌, 런타임 에러가 발생했으며, 이를 모두 해결하여 서버 구동이 가능한 상태까지 도달함.
- 현재, 서버 실행 단계에서 특정 포트(8000) 사용 불가 이슈가 발생하여 최종 해결을 앞두고 있음.

---

## 2. 완료된 작업

**가. '자료와 대화하기' 기능 검증 환경 구축 및 디버깅**
- **API 키 설정:** 유효한 `GEMINI_API_KEY` 및 JWT 토큰 생성을 위한 `SECRET_KEY`를 `.env` 파일에 설정하여 백엔드 서버의 기본 인증 및 AI 기능 연동 준비 완료.
- **프론트엔드 컴파일 에러 해결:**
    - `MindMapDisplay.tsx`에서 발생한 정규표현식 문법 오류 및 `export default` 누락 문제 수정.
    - `MainPage.tsx`의 CSS 속성 타입 불일치 문제(`all: 'unset'`) 해결.
    - `ChatInterface`, `MaterialDetailPage`, `LearningNoteDetailPage` 간의 컴포넌트 속성(`Props`) 불일치 문제 해결.
- **백엔드 런타임 에러 해결:**
    - **의존성 문제 해결:** `langchain` 라이브러리 구조 변경으로 인한 `ModuleNotFoundError: langchain_community` 에러 발생. `requirements.txt`를 재구성하고 관련 라이브러리(`langchain`, `google-generativeai` 등)를 모두 최신 버전으로 업데이트하여 복잡한 의존성 충돌 문제 해결.
    - **FastAPI 설정 문제 해결:**
        - `python-multipart` 라이브러리 누락으로 인한 폼 데이터 처리 에러 해결.
        - `uvicorn` 실행 시 `.env` 파일이 로드되지 않는 문제를 `--env-file` 옵션으로 명시하여 해결.
        - 스크립트 단독 실행 시 발생하는 상대 경로 임포트 에러(`ImportError`)를 절대 경로 임포트로 변경하여 해결.
    - **데이터베이스 문제 해결:**
        - `seed.py` 스크립트 실행 시 `users` 테이블이 없어 발생하는 `OperationalError`를 `Base.metadata.create_all` 호출을 추가하여 해결.
        - `passlib`와 `bcrypt` 간의 호환성 문제로 인한 비밀번호 해싱 에러를 `pbkdf2_sha256` 스키마로 변경하여 우회.

**나. 시연용 관리자 계정 생성**
- **데이터베이스 시딩 스크립트 개발:**
    - 재사용 가능한 `seed.py` 스크립트를 작성하여 데이터베이스에 시연용 관리자 계정(`admin@microlearn.com`)을 안전하게 추가하는 기능 구현.
    - 스크립트 실행 과정에서 발생한 다수의 임포트, 환경 변수, DB 테이블, 라이브러리 호환성 에러를 모두 해결.
- **계정 생성 및 검증 완료:**
    - `check_user.py` 스크립트를 추가로 작성하여, 생성된 관리자 계정의 비밀번호가 데이터베이스에 올바르게 해싱되어 저장되었음을 최종 검증 완료.

**다. 개발 로그 작성**
- 상기 모든 디버깅 및 개발 과정을 `20251110_ML01_DevLog.md` 파일로 상세히 기록하고 Git 리포지토리에 추가.

---

## 3. 현재 진행 상황

- **구현 현황:** 프론트엔드와 백엔드의 모든 소스 코드 에러 및 의존성 문제가 해결되어, 애플리케이션 실행을 위한 모든 준비가 완료된 상태임.
- **발생 이슈:** 백엔드 서버 실행 시, 특정 포트(`8000`)가 이미 사용 중이거나 접근 권한이 없어 발생하는 `[WinError 10013]` 에러에 직면함.
- **원인 분석:** 다른 프로세스가 8000번 포트를 점유하고 있거나, 방화벽 등 다른 시스템적 요인에 의해 포트 접근이 차단된 것으로 추정됨.

---

## 4. 향후 계획

**가. 1순위 목표: 포트 문제 해결 및 서버 구동**
- **(필수/블로커 해소)** 8000번 포트를 점유 중인 프로세스를 찾아 종료하거나, 방화벽 설정을 확인.
- 또는, 충돌을 피하기 위해 **다른 포트(예: 8001)를 사용**하여 백엔드 서버를 시작하는 것으로 계획을 변경.
- 백엔드 및 프론트엔드 서버를 모두 성공적으로 구동하여, 애플리케이션이 정상적으로 실행되는 것을 확인.

**나. 2순위 목표: '자료와 대화하기' 기능 End-to-End 테스트**
- 생성된 시연용 관리자 계정(`admin@microlearn.com`)으로 로그인.
- 회원가입, 로그인, 학습 노트 생성, 소스 추가, '자료와 대화하기' 등 핵심 기능의 전체 시나리오를 End-to-End로 테스트.
- 테스트 과정에서 발견되는 모든 버그를 수정하여 기능 구현을 최종 완료하고 시연 가능한 안정적인 상태 확보.

---

## 5. 특이사항 및 이슈

- **블로커(Blocker):** `8000번 포트` 사용 불가(`[WinError 10013]`) 문제가 현재 애플리케이션 실행을 막는 직접적인 원인임. 포트 변경 또는 충돌 해결이 최우선 과제임.
